# GET和POST对比

- [1. 来源](#1-来源)
- [2. 共同点](#2-共同点)
- [3. 不同点](#3-不同点)
- [4. 原理性解答](#4-原理性解答)


----------------

## 1. 来源

GET和POST都是HTTP协议中的方法。对于HTTP协议有着多种方法，比如：GET、POST、HEAD(获得头部信息)、DELETE(请求服务器删除指定页面)、PUT(从客户端向服务器传送数据取代指定文档内容)、OPTION(查看服务器性能)、CONNECT(HTTP/1.1中将连接改为管道方式的代理服务器)

GET(用来获取指定页面信息，并且返回实体主体)

POST(向指定资源提交数据进行处理请求，可以能是表单提交或者上传文件，数据包含在请求主体中)

## 2. 共同点

GET和POST的共同点都是**HTTP协议当中的方法**。并且两种方法都是对于HTTP服务器**发送请求**

## 3. 不同点

**请求数据的存放位置：**

GET是存放在url中的，POST是存放在主体中的

url一般有着长度的限制，说明就是GET方法在请求时，不能传输太多的数据；但是对于请求消息主体来说，一般是没有长度的限制，也就是在传输数据时，传输的数据无上限

url长度的限制对于不同的浏览器有着不同的长度限制。这个根据服务器的处理长度有关

根据上面请求数据存放的位置不同，可以推断出一下的区别：

- **GET**在浏览器**回退是无害**的，**POST会再次提交请求**
- GET产生的**URL地址可以被BookMark（书签）**，而POST不可以
- GET请求会被**浏览器进行cache**，而POST不会，除非手动设置
- GET请求仅**支持URL编码**，但是POST请求支持多种编码方式
- GET请求会被保留**在浏览器历史**中，但是POST请求则不会
- 对于**参数的数据类型**，**GET仅支持ASCII**，对于**POST没有限制**
- **GET不如POST安全**，由于参数直接暴露在URL上，所以不能用来传递敏感信息

但是对于上述的一些答案，这写都不会原理性答案，对于面试时，一般不需要这样的答案。我们要从底层原理进行回答

## 4. 原理性解答

其实对于GET和POST从**底层来说是没有区别**的。

由于GET和POST都是HTTP发送请求的方法，**底层都是TCP/IP**，也就是说对于GET和POST底层都是**TCP/IP连接**。GET和POST所能做的事情都会一样的，如果你要给GET加上request body给POST加上url参数，技术上完全是可以是实现的。

举例：

在我大万维网世界中，TCP就像汽车，我们用TCP来运输数据，它很可靠，从来不会发生丢件少件的现象。但是如果路上跑的全是看起来一模一样的汽车，那这个世界看起来是一团混乱，送急件的汽车可能被前面满载货物的汽车拦堵在路上，整个交通系统一定会瘫痪。为了避免这种情况发生，交通规则HTTP诞生了。HTTP给汽车运输设定了好几个服务类别，有GET, POST, PUT, DELETE等等，HTTP规定，当执行GET请求的时候，要给汽车贴上GET的标签（设置method为GET），而且要求把传送的数据放在车顶上（url中）以方便记录。如果是POST请求，就要在车上贴上POST的标签，并把货物放在车厢里。当然，你也可以在GET的时候往车厢内偷偷藏点货物，但是这是很不光彩；也可以在POST的时候在车顶上也放一些数据，让人觉得傻乎乎的。HTTP只是个行为准则，而TCP才是GET和POST怎么实现的基本。

但是，我们只看到HTTP对GET和POST参数的传送渠道（url还是requrest body）提出了要求。“标准答案”里关于参数大小的限制又是从哪来的呢？

在我大万维网世界中，还有另一个重要的角色：运输公司。不同的浏览器（发起http请求）和服务器（接受http请求）就是不同的运输公司。 虽然理论上，你可以在车顶上无限的堆货物（url中无限加参数）。但是运输公司可不傻，装货和卸货也是有很大成本的，他们会限制单次运输量来控制风险，数据量太大对浏览器和服务器都是很大负担。业界不成文的规定是，（大多数）浏览器通常都会限制url长度在2K个字节，而（大多数）服务器最多处理64K大小的url。超过的部分，恕不处理。如果你用GET服务，在request body偷偷藏了数据，不同服务器的处理方式也是不同的，有些服务器会帮你卸货，读出数据，有些服务器直接忽略，所以，虽然GET可以带request body，也不能保证一定能被接收到哦。

 好了，现在你知道，GET和POST本质上就是TCP链接，并无差别。但是由于HTTP的规定和浏览器/服务器的限制，导致他们在应用过程中体现出一些不同。 

最后，对于GET和POST还有最重大的一个区别就是：

GET只产生一个数据包，但是POST会产生两个数据包。

也就是对于GET请求，浏览器会直接头部和主体直接发送服务器，服务器响应200状态码；对于POST浏览器先发送头部，返回100状态码之后在发送主体，服务器响应200状态码以及数据。

**大多数框架都是尽量在一个tcp包里面把HTTP请求发出去的，但是也确实存在先发HTTP头，然后发body的框架。但是具体发多少个TCP包，这个是代码的问题，是tcp协议栈的问题，跟HTTP没关系。** 