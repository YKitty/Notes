# 高级数据结构||跳跃表

------------

## 前言

假如需要我们用某种数据结构来维护一组有序的int型元素集合，并且希望对于这个数据结构进行查找数据，插入数据，删除数据的操作上尽可能的快。

这个时候我们的主人公**跳跃表**就应运而生了。

## 1. 是什么

跳跃表就是对于一堆元素进行维护，保证了查找元素，插入元素以及删除元素的时间复杂度为O(logN)。

1. 对于一个有序的链表将其分成多层，最下面一层有着所有的元素，上面的一层是下面一层结点数的一半。
2. 上面一层是下面一层的数据进行一个大的分块，先在大区间进行查找随后到小区间进行查找。
3. 对于**跳跃表最上面一层的结点数是两个**

## 2. 查找

在进行查找的时候，从最顶层一次向最下面的层进行查找，直到查找到最下面一层时，查找到数据

## 3. 插入

由于不知道需要插入多少个元素，所以不能在一开始就将跳跃表设计好，所以在进行插入时就需要对跳跃表进行调整，使其可以继续构成一个跳跃表。

插入操作分为两步：



一：确定插入在最底层的位置

二：通过掷硬币的方法决定新插入的元素应该跨越几层（即决定该元素是否应该在高层出现，最高出现在那一层）



第一步：按照查找的方法进行查找，直到最底层将其插入进去即可

第二步：抛一枚硬币，若出现正面继续抛，直到出现反面，记录下出现**正面的次数**。该次数就是这个数可以跨越几层

比如跨越层次是3层代表跨越第0层，第1层，第2层（设从最底层到最高层依次编号是0,1,2······），需要将此元素分别插入到第0层，第1层，第2层，具体插入过程和链表插入过程一样。

【注意】：插入元素最少跨越1层，即最底层

## 4. 删除

要删除一个元素，**要将每一层的这个元素都进行删除**

## 5. 性质

1. 跳跃表的时间复杂度是O(N)
2. 每一层都是一个有序链表
3. 最底层的链表包含所有元素
4. 如果一个元素出现在第i层，那么在第0到第i-1层也都会出现
5. 跳跃表是一种随机化的数据结构（通过掷硬币的过程可以看出）

## 6. 应用

跳跃表是一种广泛使用的数据结构，在**Redis和LevelDB中可以看到跳跃表的存在**。当然Redis也是结合了哈希表等数据结构是一种符合数据结构。

